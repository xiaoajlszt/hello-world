一、相关函数
1、va_list  //可变参数
http://blog.chinaunix.net/uid-20937170-id-5749018.html
头文件：#include <stdarg.h>

#ifdef _M_ALPHA
typedef struct {
char *a0; /* pointer to first homed integer argument */
int offset; /* byte offset of next parameter */
} va_list;
#else
typedef char * va_list;
#endif

_M_ALPHA是指DEC ALPHA（Alpha AXP）架构。所以一般情况下va_list所定义变量为字符指针。

2、字符打印
#include <stdio.h>
 int printf(const char *format, ...); //输出到标准输出
 int fprintf(FILE *stream, const char *format, ...); //输出到文件
 int sprintf(char *str, const char *format, ...); //输出到字符串str中
 int snprintf(char *str, size_t size, const char *format, ...); //按size大小输出到字符串str中
  
以下函数功能与上面的一一对应相同，只是在函数调用时，把上面的...对应的一个个变量用va_list调用所替代。
在函数调用前ap要通过va_start()宏来动态获取。
#include <stdarg.h>
 int vprintf(const char *format, va_list ap);
 int vfprintf(FILE *stream, const char *format, va_list ap);
 int vsprintf(char *str, const char *format, va_list ap);
 int vsnprintf(char *str, size_t size, const char *format, va_list ap);

3、vsnprintf  //将可变参数格式化输出到一个字符数组。
<1>头文件
#include <stdarg.h>
<2>函数声明
int _vsnprintf(char* str, size_t size, const char* format, va_list ap);
<3>参数：
char *str [out],把生成的格式化的字符串存放在这里。
size_t size [in], str可接受的最大字符数[1]  (非字节数，UNICODE一个字符两个字节),防止产生数组越界。
const char *format [in], 指定输出格式的字符串，它决定了你需要提供的可变参数的类型、个数和顺序。
va_list ap [in], va_list变量. va:variable-argument:可变参数。
<4>备注
linux环境下是:vsnprintf，VC6环境下是:_vsnprintf。

---------------------------------------------------------------------------------
可变参数列表va_list宏说明：
	void va_start(va_list ap, last);       
	void va_end(va_list ap);
va_start与va_end是成对被调用的：开始的时候被调用va_start，获得各输出变量地址；结束的时候被调用va_end，释放相应的资源。

eg 通过vsnprintf()实现snprintf()功能：（更多详情可参阅linux man va_start手册）

#include <stdio.h>
#include <stdarg.h>
int my_snprintf(char *s, int size, const char *fmt, ...) //该自定义函数，与系统提供的snprintf()函数相同。
{
    va_list ap;
    int n=0;
    va_start(ap, fmt); //获得可变参数列表
    n=vsnprintf (s, size, fmt, ap); //写入字符串s
    va_end(ap); //释放资源
    return n; //返回写入的字符个数
}

int main() {
    char str[1024];
    my_snprintf( str, sizeof(str), "%d,%d,%d,%d",5,6,7,8);
    printf("%s\n",str);
    return 0;
}
---------------------------------------------------------------------------------

3、printf、sprintf对齐
%-20s //左对齐，若实际小于20位，按实际输出
%+20d //右对齐

4、gettimeofday、localtime
<1>gettimeofday()头文件/usr/include/sys/time.h
   localtime()/usr/include/time.h

<2>time()和gettimeofday()
两个都是glibc获取时间的函数,gettimeofday支持返回微妙的精度,time返回秒的精度,在性能上有差别吗???
基本上没有性能差别, 因为time其实就是把gettimeofday包装了一层。
但是测试过程中发现 time比gettimeofday性能好了一点点, 可能是time函数的接口形式简单吧, 堆栈处理的快。

5、basename  //返回路径中的文件名部分
头文件：#include <libgen.h>   
函数声明：char *basename(char *path);